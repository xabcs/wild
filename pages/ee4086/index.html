<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>k8s调度策略之优先级和抢占，驱逐详解 | 小龙龟</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="专注运维学习与总结。python,go,jenkins,mysql,redis,mq,Node,git,github,linux,k8s等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.25eee268.css" as="style"><link rel="preload" href="/assets/js/app.e72ee4c1.js" as="script"><link rel="preload" href="/assets/js/2.948c27d5.js" as="script"><link rel="preload" href="/assets/js/245.58cfb839.js" as="script"><link rel="prefetch" href="/assets/js/10.d8aaa1e2.js"><link rel="prefetch" href="/assets/js/100.a9856209.js"><link rel="prefetch" href="/assets/js/101.2767c3db.js"><link rel="prefetch" href="/assets/js/102.d19d1cf4.js"><link rel="prefetch" href="/assets/js/103.90462fac.js"><link rel="prefetch" href="/assets/js/104.46771fdb.js"><link rel="prefetch" href="/assets/js/105.ff5072ed.js"><link rel="prefetch" href="/assets/js/106.8c4cd176.js"><link rel="prefetch" href="/assets/js/107.01aed5f3.js"><link rel="prefetch" href="/assets/js/108.3cf5647a.js"><link rel="prefetch" href="/assets/js/109.56f681cc.js"><link rel="prefetch" href="/assets/js/11.4b590fd5.js"><link rel="prefetch" href="/assets/js/110.7afad734.js"><link rel="prefetch" href="/assets/js/111.0e09de50.js"><link rel="prefetch" href="/assets/js/112.80a0c413.js"><link rel="prefetch" href="/assets/js/113.ac333f8d.js"><link rel="prefetch" href="/assets/js/114.201c95c4.js"><link rel="prefetch" href="/assets/js/115.3a975c45.js"><link rel="prefetch" href="/assets/js/116.571c1cf3.js"><link rel="prefetch" href="/assets/js/117.97900073.js"><link rel="prefetch" href="/assets/js/118.aaa3e52f.js"><link rel="prefetch" href="/assets/js/119.c1060d3b.js"><link rel="prefetch" href="/assets/js/12.a01cb36e.js"><link rel="prefetch" href="/assets/js/120.2deafd41.js"><link rel="prefetch" href="/assets/js/121.9ea12535.js"><link rel="prefetch" href="/assets/js/122.1ab48cb6.js"><link rel="prefetch" href="/assets/js/123.e71d1d4e.js"><link rel="prefetch" href="/assets/js/124.23baef3e.js"><link rel="prefetch" href="/assets/js/125.a600a104.js"><link rel="prefetch" href="/assets/js/126.16cebb9d.js"><link rel="prefetch" href="/assets/js/127.05af89e8.js"><link rel="prefetch" href="/assets/js/128.b04b2da7.js"><link rel="prefetch" href="/assets/js/129.06beee76.js"><link rel="prefetch" href="/assets/js/13.0610f128.js"><link rel="prefetch" href="/assets/js/130.4688a0ab.js"><link rel="prefetch" href="/assets/js/131.926a47f0.js"><link rel="prefetch" href="/assets/js/132.076c8d23.js"><link rel="prefetch" href="/assets/js/133.625a6926.js"><link rel="prefetch" href="/assets/js/134.3538cc74.js"><link rel="prefetch" href="/assets/js/135.53d65676.js"><link rel="prefetch" href="/assets/js/136.967b3a1c.js"><link rel="prefetch" href="/assets/js/137.ed9a967e.js"><link rel="prefetch" href="/assets/js/138.ee2412e4.js"><link rel="prefetch" href="/assets/js/139.0fa862bc.js"><link rel="prefetch" href="/assets/js/14.fd4bf0a9.js"><link rel="prefetch" href="/assets/js/140.5be7638a.js"><link rel="prefetch" href="/assets/js/141.a077c713.js"><link rel="prefetch" href="/assets/js/142.aeaea3b4.js"><link rel="prefetch" href="/assets/js/143.e68e5493.js"><link rel="prefetch" href="/assets/js/144.79480901.js"><link rel="prefetch" href="/assets/js/145.a280f0b0.js"><link rel="prefetch" href="/assets/js/146.8d9f878d.js"><link rel="prefetch" href="/assets/js/147.48751fde.js"><link rel="prefetch" href="/assets/js/148.a298a758.js"><link rel="prefetch" href="/assets/js/149.99c3828f.js"><link rel="prefetch" href="/assets/js/15.1302d1b1.js"><link rel="prefetch" href="/assets/js/150.cb224055.js"><link rel="prefetch" href="/assets/js/151.04f98240.js"><link rel="prefetch" href="/assets/js/152.e8eecbb3.js"><link rel="prefetch" href="/assets/js/153.883a2bf4.js"><link rel="prefetch" href="/assets/js/154.2b9af61c.js"><link rel="prefetch" href="/assets/js/155.da48319b.js"><link rel="prefetch" href="/assets/js/156.2b5049e5.js"><link rel="prefetch" href="/assets/js/157.e8f76c1e.js"><link rel="prefetch" href="/assets/js/158.bea211a0.js"><link rel="prefetch" href="/assets/js/159.53ae059d.js"><link rel="prefetch" href="/assets/js/16.940fc282.js"><link rel="prefetch" href="/assets/js/160.8a160eae.js"><link rel="prefetch" href="/assets/js/161.e4dbec51.js"><link rel="prefetch" href="/assets/js/162.57d7cfbe.js"><link rel="prefetch" href="/assets/js/163.9a539a7d.js"><link rel="prefetch" href="/assets/js/164.c68ea2a5.js"><link rel="prefetch" href="/assets/js/165.c26f562f.js"><link rel="prefetch" href="/assets/js/166.8be2456a.js"><link rel="prefetch" href="/assets/js/167.244c71a7.js"><link rel="prefetch" href="/assets/js/168.5d177570.js"><link rel="prefetch" href="/assets/js/169.cfec1b25.js"><link rel="prefetch" href="/assets/js/17.1870f053.js"><link rel="prefetch" href="/assets/js/170.f1831514.js"><link rel="prefetch" href="/assets/js/171.023cb848.js"><link rel="prefetch" href="/assets/js/172.b1a7b215.js"><link rel="prefetch" href="/assets/js/173.0a69ff6d.js"><link rel="prefetch" href="/assets/js/174.7651fd58.js"><link rel="prefetch" href="/assets/js/175.f5f8ea7f.js"><link rel="prefetch" href="/assets/js/176.0180d326.js"><link rel="prefetch" href="/assets/js/177.03a89960.js"><link rel="prefetch" href="/assets/js/178.0d3fcbd9.js"><link rel="prefetch" href="/assets/js/179.c2fd7ba1.js"><link rel="prefetch" href="/assets/js/18.2b18a905.js"><link rel="prefetch" href="/assets/js/180.0826e455.js"><link rel="prefetch" href="/assets/js/181.0c852391.js"><link rel="prefetch" href="/assets/js/182.78dd2077.js"><link rel="prefetch" href="/assets/js/183.5108dadb.js"><link rel="prefetch" href="/assets/js/184.8569843f.js"><link rel="prefetch" href="/assets/js/185.48db9218.js"><link rel="prefetch" href="/assets/js/186.42ef23ad.js"><link rel="prefetch" href="/assets/js/187.23abcffe.js"><link rel="prefetch" href="/assets/js/188.cfc24f89.js"><link rel="prefetch" href="/assets/js/189.adfccccc.js"><link rel="prefetch" href="/assets/js/19.240af2d6.js"><link rel="prefetch" href="/assets/js/190.39945ee2.js"><link rel="prefetch" href="/assets/js/191.de749cbc.js"><link rel="prefetch" href="/assets/js/192.e6f9abd0.js"><link rel="prefetch" href="/assets/js/193.37a2551a.js"><link rel="prefetch" href="/assets/js/194.43c9f9ac.js"><link rel="prefetch" href="/assets/js/195.8595a467.js"><link rel="prefetch" href="/assets/js/196.939cfad2.js"><link rel="prefetch" href="/assets/js/197.dd00ac08.js"><link rel="prefetch" href="/assets/js/198.e1536fcc.js"><link rel="prefetch" href="/assets/js/199.353591d8.js"><link rel="prefetch" href="/assets/js/20.b1c65f2a.js"><link rel="prefetch" href="/assets/js/200.c3cfbd60.js"><link rel="prefetch" href="/assets/js/201.60616b1a.js"><link rel="prefetch" href="/assets/js/202.6ffee4cc.js"><link rel="prefetch" href="/assets/js/203.934267e3.js"><link rel="prefetch" href="/assets/js/204.311009ed.js"><link rel="prefetch" href="/assets/js/205.b75808ca.js"><link rel="prefetch" href="/assets/js/206.4a295711.js"><link rel="prefetch" href="/assets/js/207.6ac1115a.js"><link rel="prefetch" href="/assets/js/208.1877a1c5.js"><link rel="prefetch" href="/assets/js/209.0e12d889.js"><link rel="prefetch" href="/assets/js/21.c7d01e58.js"><link rel="prefetch" href="/assets/js/210.a43f4e4b.js"><link rel="prefetch" href="/assets/js/211.56acbad4.js"><link rel="prefetch" href="/assets/js/212.0c3c5c9e.js"><link rel="prefetch" href="/assets/js/213.7df13c98.js"><link rel="prefetch" href="/assets/js/214.ad01f5f0.js"><link rel="prefetch" href="/assets/js/215.9a19cea3.js"><link rel="prefetch" href="/assets/js/216.0036d536.js"><link rel="prefetch" href="/assets/js/217.d1ad4999.js"><link rel="prefetch" href="/assets/js/218.b0eecc13.js"><link rel="prefetch" href="/assets/js/219.5c789f33.js"><link rel="prefetch" href="/assets/js/22.89e47bfd.js"><link rel="prefetch" href="/assets/js/220.5b703d4a.js"><link rel="prefetch" href="/assets/js/221.17ea9447.js"><link rel="prefetch" href="/assets/js/222.d16811e1.js"><link rel="prefetch" href="/assets/js/223.94f8da7a.js"><link rel="prefetch" href="/assets/js/224.0df47993.js"><link rel="prefetch" href="/assets/js/225.302b8cf3.js"><link rel="prefetch" href="/assets/js/226.a19abdc5.js"><link rel="prefetch" href="/assets/js/227.d8ee44d1.js"><link rel="prefetch" href="/assets/js/228.f7740c6d.js"><link rel="prefetch" href="/assets/js/229.2ee045b7.js"><link rel="prefetch" href="/assets/js/23.1a8e1f80.js"><link rel="prefetch" href="/assets/js/230.0bf7d6c6.js"><link rel="prefetch" href="/assets/js/231.6ecc29fd.js"><link rel="prefetch" href="/assets/js/232.6bfda213.js"><link rel="prefetch" href="/assets/js/233.17804cee.js"><link rel="prefetch" href="/assets/js/234.f7e3773f.js"><link rel="prefetch" href="/assets/js/235.caea6b98.js"><link rel="prefetch" href="/assets/js/236.694f26ea.js"><link rel="prefetch" href="/assets/js/237.fbe6ada8.js"><link rel="prefetch" href="/assets/js/238.473274dd.js"><link rel="prefetch" href="/assets/js/239.39460a9d.js"><link rel="prefetch" href="/assets/js/24.1df1b191.js"><link rel="prefetch" href="/assets/js/240.43649c8b.js"><link rel="prefetch" href="/assets/js/241.3ac1250e.js"><link rel="prefetch" href="/assets/js/242.b5a8ec20.js"><link rel="prefetch" href="/assets/js/243.a2df2b75.js"><link rel="prefetch" href="/assets/js/244.cf49a17d.js"><link rel="prefetch" href="/assets/js/246.1acf6d43.js"><link rel="prefetch" href="/assets/js/247.16fb705f.js"><link rel="prefetch" href="/assets/js/248.64742e85.js"><link rel="prefetch" href="/assets/js/25.1f7a503c.js"><link rel="prefetch" href="/assets/js/26.8928dc1c.js"><link rel="prefetch" href="/assets/js/27.74a796ec.js"><link rel="prefetch" href="/assets/js/28.f3de6c2b.js"><link rel="prefetch" href="/assets/js/29.022096df.js"><link rel="prefetch" href="/assets/js/3.0721442c.js"><link rel="prefetch" href="/assets/js/30.bf07be7f.js"><link rel="prefetch" href="/assets/js/31.48081e9a.js"><link rel="prefetch" href="/assets/js/32.5efd0521.js"><link rel="prefetch" href="/assets/js/33.7089a9ec.js"><link rel="prefetch" href="/assets/js/34.ad62287d.js"><link rel="prefetch" href="/assets/js/35.8e552d36.js"><link rel="prefetch" href="/assets/js/36.3f5fe937.js"><link rel="prefetch" href="/assets/js/37.18752bc2.js"><link rel="prefetch" href="/assets/js/38.39f68d18.js"><link rel="prefetch" href="/assets/js/39.a3f75a4f.js"><link rel="prefetch" href="/assets/js/4.0cca9142.js"><link rel="prefetch" href="/assets/js/40.832eeda3.js"><link rel="prefetch" href="/assets/js/41.038c7689.js"><link rel="prefetch" href="/assets/js/42.5cbe6549.js"><link rel="prefetch" href="/assets/js/43.d49a6246.js"><link rel="prefetch" href="/assets/js/44.2114a53d.js"><link rel="prefetch" href="/assets/js/45.078a2ce2.js"><link rel="prefetch" href="/assets/js/46.ea0cd290.js"><link rel="prefetch" href="/assets/js/47.65d52184.js"><link rel="prefetch" href="/assets/js/48.2787d193.js"><link rel="prefetch" href="/assets/js/49.00ce956f.js"><link rel="prefetch" href="/assets/js/5.2afb575f.js"><link rel="prefetch" href="/assets/js/50.33c2b1f4.js"><link rel="prefetch" href="/assets/js/51.71caffd0.js"><link rel="prefetch" href="/assets/js/52.5f629003.js"><link rel="prefetch" href="/assets/js/53.ef9d88dc.js"><link rel="prefetch" href="/assets/js/54.bd99a82c.js"><link rel="prefetch" href="/assets/js/55.d9ce6d11.js"><link rel="prefetch" href="/assets/js/56.356697b0.js"><link rel="prefetch" href="/assets/js/57.15fd7460.js"><link rel="prefetch" href="/assets/js/58.ae9149fd.js"><link rel="prefetch" href="/assets/js/59.d6d65f2e.js"><link rel="prefetch" href="/assets/js/6.d26036ba.js"><link rel="prefetch" href="/assets/js/60.e572deac.js"><link rel="prefetch" href="/assets/js/61.5697f72d.js"><link rel="prefetch" href="/assets/js/62.d53c8f06.js"><link rel="prefetch" href="/assets/js/63.65a58acd.js"><link rel="prefetch" href="/assets/js/64.bbd69778.js"><link rel="prefetch" href="/assets/js/65.3f95602a.js"><link rel="prefetch" href="/assets/js/66.18600a1e.js"><link rel="prefetch" href="/assets/js/67.070dd686.js"><link rel="prefetch" href="/assets/js/68.0a219cba.js"><link rel="prefetch" href="/assets/js/69.e4694d30.js"><link rel="prefetch" href="/assets/js/7.34faa16f.js"><link rel="prefetch" href="/assets/js/70.060fc25c.js"><link rel="prefetch" href="/assets/js/71.98f5098e.js"><link rel="prefetch" href="/assets/js/72.1121e203.js"><link rel="prefetch" href="/assets/js/73.2a65455c.js"><link rel="prefetch" href="/assets/js/74.e5f8015b.js"><link rel="prefetch" href="/assets/js/75.afa82a2d.js"><link rel="prefetch" href="/assets/js/76.35521ddc.js"><link rel="prefetch" href="/assets/js/77.06914712.js"><link rel="prefetch" href="/assets/js/78.1c89b6df.js"><link rel="prefetch" href="/assets/js/79.52aa1134.js"><link rel="prefetch" href="/assets/js/8.e24c0027.js"><link rel="prefetch" href="/assets/js/80.adb4907a.js"><link rel="prefetch" href="/assets/js/81.bef0a373.js"><link rel="prefetch" href="/assets/js/82.333b0b6e.js"><link rel="prefetch" href="/assets/js/83.ca0ffc94.js"><link rel="prefetch" href="/assets/js/84.a7fd71f5.js"><link rel="prefetch" href="/assets/js/85.33b62055.js"><link rel="prefetch" href="/assets/js/86.76087807.js"><link rel="prefetch" href="/assets/js/87.059f54bc.js"><link rel="prefetch" href="/assets/js/88.0ac96029.js"><link rel="prefetch" href="/assets/js/89.cdc48ac3.js"><link rel="prefetch" href="/assets/js/9.f795d0c9.js"><link rel="prefetch" href="/assets/js/90.b40d2612.js"><link rel="prefetch" href="/assets/js/91.541aec45.js"><link rel="prefetch" href="/assets/js/92.9f81250f.js"><link rel="prefetch" href="/assets/js/93.5a8be471.js"><link rel="prefetch" href="/assets/js/94.a7deb2b6.js"><link rel="prefetch" href="/assets/js/95.e8ddb3d7.js"><link rel="prefetch" href="/assets/js/96.4069e024.js"><link rel="prefetch" href="/assets/js/97.78675bdb.js"><link rel="prefetch" href="/assets/js/98.fbe22760.js"><link rel="prefetch" href="/assets/js/99.ec954370.js">
    <link rel="stylesheet" href="/assets/css/0.styles.25eee268.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu only-sidebarItem"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.pixabay.com/animation/2024/11/25/05/13/05-13-54-790_256.gif" alt="小龙龟" class="logo"> <span class="site-name can-hide">小龙龟</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/yunwei/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yunwei/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/yunwei/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/yunwei/k8s/" class="nav-link">k8s</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">发现</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xabcs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/xabcs/picx-images-hosting@master/20250410/4087996879.60uffrhqgc.webp"> <div class="blogger-info"><h3>小龙龟</h3> <span>前端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javascript/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-subitem"><a href="/note/js/" class="nav-link">《JavaScript高级程序设计》</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">《ES6 教程》</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">《Vue》</a></li><li class="dropdown-subitem"><a href="/note/react/" class="nav-link">《React》</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git》</a></li><li class="dropdown-subitem"><a href="/pages/51afd6/" class="nav-link">TypeScript</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面" class="dropdown-title"><a href="/ui/" class="link-title">页面</a> <span class="title" style="display:none;">页面</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/yunwei/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yunwei/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/yunwei/redis/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/yunwei/k8s/" class="nav-link">k8s</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">发现</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xabcs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/ee4086/" aria-current="page" class="active sidebar-link">k8s调度策略之优先级和抢占，驱逐详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/ee4086/#_1-调度" class="sidebar-link">1. 调度</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ee4086/#_1-1-调度流程" class="sidebar-link">1.1. 调度流程</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ee4086/#_3-优先级机制-抢占机制-priority" class="sidebar-link">3. 优先级机制/抢占机制（Priority）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ee4086/#_3-1-概念" class="sidebar-link">&amp;#x20;3.1 概念：</a></li><li class="sidebar-sub-header level3"><a href="/pages/ee4086/#_3-2-如何使用优先级和抢占机制" class="sidebar-link">3.2 如何使用优先级和抢占机制</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ee4086/#_4-qos服务质量等级机制-驱逐机制" class="sidebar-link">4. Qos服务质量等级机制（驱逐机制）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/ee4086/#_4-1-概念" class="sidebar-link">4.1 概念:</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/ee4086/#_5-优先级和服务质量等级两者的关系" class="sidebar-link">5. 优先级和服务质量等级两者的关系</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/pages/ee4086/#场景-1-调度阶段的抢占" class="sidebar-link">场景 1：调度阶段的抢占</a></li><li class="sidebar-sub-header level4"><a href="/pages/ee4086/#场景-2-运行时的驱逐" class="sidebar-link">场景 2：运行时的驱逐</a></li></ul></li></ul></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/yunwei/k8s/#《k8s》笔记" data-v-06225672>《k8s》笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/xabcs" target="_blank" title="作者" class="beLink" data-v-06225672>xabcs</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-04-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">k8s调度策略之优先级和抢占，驱逐详解<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="k8s调度策略之优先级和抢占-驱逐详解"><a href="#k8s调度策略之优先级和抢占-驱逐详解" class="header-anchor">#</a> k8s调度策略之优先级和抢占，驱逐详解</h1> <h2 id="_1-调度"><a href="#_1-调度" class="header-anchor">#</a> 1. 调度</h2> <p><code>调度是指将pod分配到合适的节点上</code>，Kube-scheduler通过watch机制监听kube-apiserver，查询已经新建但还未调度的pod，根据调度策略将pod调度至集群内最合适的node.
:::</p> <h3 id="_1-1-调度流程"><a href="#_1-1-调度流程" class="header-anchor">#</a> 1.1. 调度流程</h3> <ol><li><p>用户提交创建pod的请求</p></li> <li><p>api-server 处理用户请求，存储用户数据到ETCD</p></li> <li><p>kube-schedule中的informer组件监听api-server,筛选出space.nodeName=''的pod列表，循环遍历的为每个pod尝试分配节点， kube-scheduler 给一个 Pod 做调度选择时包含两个步骤：</p> <p><strong>第一阶段</strong><code>预选阶段，过滤节点，调度器通过Predicate算法过滤掉不满足条件的节点</code>
主要的预选算法包括</p> <ul><li><p><code>资源相关算法</code></p> <ul><li><p><code>PodFitsResources</code></p> <p>作用：检查节点是否有足够的资源（CPU、内存、GPU 等）满足 Pod 的 requests。</p> <p>规则：
节点剩余资源 ≥ Pod 的 requests（需考虑已调度 Pod 的资源占用）。
如果 Pod 未指定 requests，默认按 limits 的 100% 计算（可能导致资源不足）。</p></li> <li><p><code>CheckNodeMemoryPressure / CheckNodeDiskPressure / CheckNodePIDPressure</code></p> <p>作用：检查节点是否处于资源压力状态。
内存压力：节点剩余内存不足。
磁盘压力：节点磁盘空间或 inode 不足。
PID 压力：节点进程 ID 不足。</p> <p>规则：若节点存在压力，则跳过该节点（除非 Pod 容忍 memoryPressure、diskPressure 等污点）。</p></li></ul></li> <li><p><code>选择器与标签算法</code></p> <ul><li><p><code>MatchNodeSelector</code></p> <p>作用：检查节点是否匹配 Pod 的 nodeSelector 或 nodeAffinity 硬性规则。</p> <p>规则：
nodeSelector：节点必须包含所有指定标签。
nodeAffinity（requiredDuringScheduling）：必须满足所有硬性匹配条件。</p></li> <li><p>PodFitsHostPorts
作用：检查节点上是否有 Pod 声明的 hostPort 已被占用。</p> <p>规则：若节点上已有 Pod 占用了相同的 hostPort，则排除该节点。</p></li></ul></li> <li><p><code>存储相关算法</code></p> <ul><li><p>VolumeZonePredicate
作用：检查持久卷（PV）的可用区是否与节点匹配。</p> <p>规则：若 Pod 使用特定可用区的 PV（如 topology.kubernetes.io/zone），则节点必须位于同一可用区。</p></li> <li><p>VolumeBindingPredicate
作用：检查节点是否能绑定 Pod 所需的 PVC（Persistent Volume Claim）。</p> <p>规则：若 PVC 是 WaitForFirstConsumer 模式，调度器会延迟绑定，直到选择节点。
节点必须满足 PVC 的存储类（StorageClass）、容量等要求。</p></li></ul></li> <li><p><code>亲和性/反亲和性算法</code></p> <ul><li><p><code>InterPodAffinity</code>
作用：检查 Pod 的亲和性/反亲和性硬性规则（requiredDuringScheduling）。</p> <p>规则：Pod 亲和性：必须与指定 Pod 在同一个拓扑域（如节点、可用区）。
Pod 反亲和性：必须避免与指定 Pod 在同一个拓扑域。</p></li></ul></li> <li><p><code>污点与容忍算法</code>
作用：检查 Pod 是否容忍节点的污点（Taints）。
规则：若节点有污点且 Pod 未声明对应的容忍（Toleration），则排除该节点。
污点效果（Effect）为 NoSchedule 时，必须严格匹配容忍。</p></li></ul></li></ol> <p>Predicate算法（预选算法）执行流程:</p> <blockquote><ul><li><code>并行过滤</code>：调度器并行执行所有 Predicate 算法，快速缩小候选节点范围。</li> <li><code>顺序无关性</code>：各算法之间无依赖关系，最终结果取逻辑“与”（所有条件均需满足）。</li> <li><code>短路优化</code>：若某算法过滤后无剩余节点，直接终止流程，Pod 进入 Pending 状态。</li></ul></blockquote> <ul><li><p><strong>第二阶段</strong> <code>优选阶段（priorities）：为上一阶段选出来的node进行打分，选出得分最高的</code>
主要的优选阶段算法包括</p> <ul><li><p><code>资源均衡类的</code></p> <ul><li><p>LeastRequestedPriority 最低请求优先算法</p> <p>规则：选择（CPU 和 Memory）request最低的的宿主机</p></li> <li><p>BalancedResourceAllocation 资源均衡分配</p> <p>规则：优先选择 CPU 和内存利用率接近 的节点，避免单一资源过载</p></li></ul></li> <li><p><code>亲和性权重类算法</code></p> <ul><li><p>NodeAffinityPriority（节点亲和性权重）</p> <p>作用：为符合 nodeAffinity 软性规则（preferredDuringScheduling）的节点加分。</p> <p>规则：根据 preference 中的 weight 值增加分数。</p></li> <li><p>InterPodAffinityPriority（Pod 亲和性/反亲和性权重）</p> <p>作用：根据 Pod 亲和性/反亲和性的软性规则（preferredDuringScheduling）调整分数。
规则：</p> <p>Pod 亲和性：与目标 Pod 处于同一拓扑域的节点加分。
Pod 反亲和性：与目标 Pod 处于同一拓扑域的节点减分。</p></li> <li><p>TaintTolerationPriority（污点容忍优先）</p> <p>作用：为容忍更多污点的节点加分（需结合 PodToleratesNodeTaints Predicate 使用）。</p> <p>规则：优先选择容忍度高的节点（如专用节点池）
<code>NodeAffinityPriority、TaintTolerationPriority 和 InterPodAffinityPriority 这三种 Priority，一个 Node 满足上述规则的字段数目越多，它的得分就会越高</code></p></li></ul></li> <li><p>其他算法</p> <ul><li><p>ImageLocalityPriority（镜像本地性优先）</p> <p>作用：优先选择已存在 Pod 所需镜像的节点，减少镜像拉取时间。</p></li> <li><p>VolumeZonePredicate（存储卷可用区匹配）</p> <p>作用：优先选择与持久卷（PV）处于同一可用区（Zone）的节点。</p> <p>规则：减少跨可用区访问存储的延迟。</p></li></ul></li></ul></li> <li><p><strong>第三阶段</strong> <code>binding阶段（选定阶段）</code>：选择得分最高的Node节点和pod进行binding操作，将结果存储在etcd中，选择出来的node节点对应的kubelet会去执行创建pod的相关操作。
:::</p></li></ul> <h2 id="_3-优先级机制-抢占机制-priority"><a href="#_3-优先级机制-抢占机制-priority" class="header-anchor">#</a> 3. 优先级机制/抢占机制（<strong>Priority</strong>）</h2> <h3 id="_3-1-概念"><a href="#_3-1-概念" class="header-anchor">#</a>  3.1 概念：</h3> <p>作用于调度阶段，当资源不足时，决定哪些pod被优先调度或者抢占的机制。高优先级的pod被调度失败后，可以驱逐低优先级pod的方式抢占低优先级pod的资源完成调度。</p> <h3 id="_3-2-如何使用优先级和抢占机制"><a href="#_3-2-如何使用优先级和抢占机制" class="header-anchor">#</a> 3.2 如何使用优先级和抢占机制</h3> <ul><li>新建一个PriorityClass对象，设置优先级数值</li> <li>在Pod的spec的priorityClassName引用PriorityClas</li> <li>当高优先级Pod无法调度时，调度器尝试驱逐低优先级Pod以释放资源</li></ul> <h2 id="_4-qos服务质量等级机制-驱逐机制"><a href="#_4-qos服务质量等级机制-驱逐机制" class="header-anchor">#</a> 4. Qos服务质量等级机制（驱逐机制）</h2> <h3 id="_4-1-概念"><a href="#_4-1-概念" class="header-anchor">#</a> 4.1 概念:</h3> <p>QoS 等级作用于运行阶段，是 Kubernetes 在 <strong>运行时（节点资源不足时）</strong> 决定哪些 Pod 会被优先驱逐的机制。</p> <p>它根据 Pod 的资源请求（Requests）和限制（Limits）的配置，将 Pod 分为三个等级：</p> <ol><li><p><strong>Guaranteed</strong>（最高）：</p> <ul><li>所有容器的 CPU/Memory 均设置 <code>requests</code> limits`。</li> <li><strong>最后被驱逐</strong>。</li></ul></li> <li><p><strong>Burstable</strong>（中等）：</p> <ul><li>至少一个容器设置了 <code>requests</code>，但未满足 <code>requests</code> limits`。</li> <li><strong>驱逐优先级低于 BestEffort</strong>。</li></ul></li> <li><p><strong>BestEffort</strong>（最低）：</p> <ul><li>所有容器均未设置 <code>requests</code> 和 <code>limits</code>。</li> <li><strong>最先被驱逐</strong>。</li></ul></li></ol> <h2 id="_5-优先级和服务质量等级两者的关系"><a href="#_5-优先级和服务质量等级两者的关系" class="header-anchor">#</a> 5. 优先级和服务质量等级<strong>两者的关系</strong></h2> <p>两者的核心区别</p> <table><thead><tr><th style="text-align:left;">特性</th> <th style="text-align:left;">QoS 等级</th> <th style="text-align:left;">优先级/抢占机制</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>作用阶段</strong></td> <td style="text-align:left;">运行时（节点资源不足时）</td> <td style="text-align:left;">调度阶段</td></tr> <tr><td style="text-align:left;"><strong>目标</strong></td> <td style="text-align:left;">决定哪些 Pod 被优先驱逐</td> <td style="text-align:left;">决定哪些 Pod 被优先调度或抢占</td></tr> <tr><td style="text-align:left;"><strong>依赖配置</strong></td> <td style="text-align:left;">资源 <code>requests/limits</code></td> <td style="text-align:left;"><code>PriorityClass</code></td></tr> <tr><td style="text-align:left;"><strong>触发条件</strong></td> <td style="text-align:left;">节点资源压力（如 OOM）</td> <td style="text-align:left;">调度器发现资源不足</td></tr></tbody></table> <p>尽管两者独立，但在实际场景中会共同影响 Pod 的生命周期：</p> <h4 id="场景-1-调度阶段的抢占"><a href="#场景-1-调度阶段的抢占" class="header-anchor">#</a> <strong>场景 1：调度阶段的抢占</strong></h4> <ul><li><p><strong>优先级决定抢占顺序</strong>：</p> <ul><li>高优先级 Pod 触发抢占时，只会驱逐 <strong>优先级更低</strong> 的 Pod。</li> <li><strong>与 QoS 等级无关</strong>：即使被抢占的 Pod 是 <code>Guaranteed</code>，只要其优先级更低，仍然会被驱逐。</li></ul></li> <li><p><strong>QoS 影响抢占后的稳定性</strong>：</p> <ul><li>如果高优先级 Pod 的 QoS 为 <code>BestEffort</code>，虽然它被成功调度，但在节点资源不足时可能被优先驱逐。</li></ul></li></ul> <h4 id="场景-2-运行时的驱逐"><a href="#场景-2-运行时的驱逐" class="header-anchor">#</a> <strong>场景 2：运行时的驱逐</strong></h4> <ul><li><p><strong>QoS 决定驱逐顺序</strong>：</p> <ul><li>当节点资源不足（如内存压力）时，<code>BestEffort</code> Pod 会被优先驱逐，无论其优先级如何。</li> <li><strong>优先级不直接影响运行时驱逐</strong>：即使一个 <code>BestEffort</code> Pod 优先级很高，它仍可能被驱逐。</li></ul></li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/xabcs/edit/main/docs/《k8s》笔记/01.k8s调度策略之优先级和抢占，驱逐详解.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/04/14, 11:14:14</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/4ca313/"><div>
            AI开发广场
            <!----></div></a> <span class="date">04-18</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/d04ebf/"><div>
            博客丢失静态文件和字体的问题
            <!----></div></a> <span class="date">04-10</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/bd79a0/"><div>
            gtid跳过单个多个事务的方法
            <!----></div></a> <span class="date">04-09</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:894072666@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xabcs" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2025
    <span>Evan Xu | <a href="https://github.com/xabcs/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a> | <a href="http://beian.miit.gov.cn/" target="_blank">桂ICP备2024034950号</a> | <img src="/img/beian.png" style="width: 15px; margin-bottom: -3px;" /> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=45142202000030" rel="noreferrer" target="_blank">桂公网安备45142202000030</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.e72ee4c1.js" defer></script><script src="/assets/js/2.948c27d5.js" defer></script><script src="/assets/js/245.58cfb839.js" defer></script>
  </body>
</html>
